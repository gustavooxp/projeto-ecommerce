<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pagamento PIX</title>

    <!-- Importa o CSS externo para estilizar a página -->
    <link rel="stylesheet" href="paginaPagamento.css">

    <!-- Ícone da aba do navegador -->
    <link rel="icon" href="images/fav-icon-pizzaria.png">
</head>

<body>
    <div class="payment-container">
        <h1>Pagamento PIX</h1>

        <!-- Exibe o valor total a ser pago -->
        <p>Valor total: <span id="total-value">R$ 0,00</span></p>

        <!-- Mostra o QR Code para pagamento via PIX -->
        <div class="qr-code">
            <img src="images/qrcode_page-0001.jpg" alt="QR Code PIX">
        </div>

        <!-- Formulário para o cliente preencher o endereço -->
        <form id="location-form">
            <div class="mb-3">
                <label for="nomeRua" class="form-label">Nome da Rua</label>
                <input type="text" class="form-control" id="nomeRua" placeholder="Nome da Rua" required>
            </div>

            <div class="mb-3">
                <label for="bairro" class="form-label">Bairro</label>
                <input type="text" class="form-control" id="bairro" placeholder="Bairro" required>
            </div>

            <div class="mb-3">
                <label for="numero" class="form-label">Número</label>
                <input type="text" class="form-control" id="numero" placeholder="Número" required>
            </div>

            <!-- Botão para tentar enviar o formulário -->
            <div class="text-center">
                <button type="submit" class="btn btn-primary">Enviar</button>
            </div>
            <br>
        </form>

        <!-- Botão para voltar à página anterior -->
        <div class="text-center">
            <button onclick="proceedToGoBack()" class="btn btn-secondary">Voltar</button>
        </div>
    </div>

    <script>
        // Atualiza o valor total do pedido usando o valor salvo no Local Storage
        const totalValue = localStorage.getItem('cartTotal') || '0.00';
        document.getElementById('total-value').textContent = `R$ ${parseFloat(totalValue).toFixed(2).replace('.', ',')}`;

        // Impede o envio do formulário e exibe um alerta
        document.getElementById('location-form').addEventListener('submit', function (event) {
            event.preventDefault(); // Impede o envio normal do formulário
            alert('Você precisa realizar o pagamento para enviar o pedido.');
        });

        // Função para voltar para a página anterior
        function proceedToGoBack() {
            window.history.back();
        }
    </script>

    <!-- Script adicional (se houver funcionalidades extras no script.js) -->
    <script src="script.js"></script>

</body>

</html>